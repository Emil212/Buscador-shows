const d=document,$shows=d.getElementById("shows"),$template=d.getElementById("show-template").content,$a=$template.querySelector("a"),$img=$template.querySelector("img"),$fragment=d.createDocumentFragment();d.addEventListener("keypress",async e=>{if(e.target.matches("#search")&&"Enter"===e.key)try{$shows.innerHTML='<img src="../ASSETS/spinning-circles.svg" alt="Cargando..." class="loader">';let t=e.target.value.toLowerCase(),a="https://api.tvmaze.com/search/shows?q="+t,r=await fetch(a),s=await r.json();if(!r.ok)throw{status:r.status,statuText:r.statusText};0===s.length?$shows.innerHTML=`<h2>No existen resultados para el criterio de busqueda: ${t}</h2>`:(s.forEach(e=>{$template.querySelector("h3").textContent=e.show.name,$template.querySelector("div").innerHTML=e.show.summary?e.show.summary:"Sin descripci√≥n",$template.querySelector("img").src=e.show.image?e.show.image.medium:"https://static.tvmaze.com/images/no-img/no-img-portrait-text.png",$template.querySelector("img").alt=e.show.name,$template.querySelector("a").href=e.show.url?e.show.url:"#",$template.querySelector("a").target=e.show.url?"_blank":"_self",$a.appendChild($img);let t=d.importNode($template,!0);$fragment.appendChild(t)}),$shows.innerHTML="",$shows.appendChild($fragment))}catch(e){console.log(e);let t=e.statuText||"Ocurrio un error al consumir la API de TvMazer";$shows.innerHTML=`<p>Error ${e.status}: ${t}</p>`}});
//# sourceMappingURL=bundle.js.map
